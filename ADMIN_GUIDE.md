# 🎛️ ระบบหลังบ้าน Admin Panel - Fei Yi Transporter

## ✨ ฟีเจอร์ระบบหลังบ้าน

### 1. 📊 Dashboard (dashboard.html)
- แสดงสถิติภาพรวม:
  - จำนวนรอบรถทั้งหมด
  - รอบรถที่เปิดใช้งาน
  - จำนวนการจองวันนี้
  - ที่นั่งที่จองแล้วทั้งหมด
- แสดงภาพรวมรอบรถพร้อมสถานะ (เปิด/ปิด/เต็ม)
- แสดงการจองล่าสุด 5 รายการ

### 2. 🚐 จัดการรอบรถ (manage-trips.html)
- **เพิ่มรอบรถใหม่:**
  - กำหนดเส้นทาง
  - กำหนดเวลา
  - กำหนดจำนวนที่นั่ง
  - กำหนดราคา
  - เปิด/ปิดการใช้งาน
  
- **แก้ไขรอบรถ:**
  - แก้ไขข้อมูลทั้งหมด
  - เปลี่ยนสถานะเปิด/ปิด
  - ปรับจำนวนที่นั่ง
  
- **ลบรอบรถ:**
  - ลบรอบรถที่ไม่ต้องการ
  - มีการยืนยันก่อนลบ

- **แสดงรายการรอบรถทั้งหมด:**
  - เรียงตามวันที่สร้างล่าสุด
  - แสดงสถานะ (เปิด/ปิด/เต็ม)
  - แสดงจำนวนที่นั่งว่าง
  - สีสันแสดงสถานะชัดเจน

### 3. 📋 รายการจอง (bookings.html)
- **ดูรายการจองทั้งหมด:**
  - แสดงข้อมูลผู้จอง
  - แสดงเส้นทางและเวลา
  - แสดงจำนวนที่นั่งและราคา
  - เรียงตามวันที่จองล่าสุด

- **ค้นหาและกรอง:**
  - กรองตามรอบรถ
  - กรองตามวันที่
  - ค้นหาด้วยเบอร์โทร

- **ดูรายละเอียด:**
  - ข้อมูลผู้จองครบถ้วน
  - ข้อมูลการเดินทาง
  - สถานะการจอง
  - ราคารวม

## 📂 โครงสร้างไฟล์ใหม่

```
project/
├── index.html              ← หน้าจองคิว (ลูกค้า)
├── dashboard.html          ← Dashboard หลังบ้าน
├── manage-trips.html       ← จัดการรอบรถ
├── bookings.html           ← ดูรายการจอง
│
├── css/
│   ├── style.css           ← CSS หน้าลูกค้า
│   └── admin-style.css     ← CSS หลังบ้าน (ใหม่)
│
├── js/
│   ├── firebase.js         ← Config Firebase
│   ├── app.js              ← Logic หน้าลูกค้า
│   ├── dashboard.js        ← Logic Dashboard (ใหม่)
│   ├── manage-trips.js     ← Logic จัดการรอบรถ (ใหม่)
│   └── bookings.js         ← Logic รายการจอง (ใหม่)
│
└── README.md               ← คู่มือ
```

## 🎨 UI/UX Features

### Sidebar Navigation
- เมนูด้านซ้ายสำหรับสลับหน้า
- ไอคอนชัดเจน
- Responsive (ซ่อนข้อความบนมือถือ)

### Status Indicators
- **✅ เปิดใช้งาน** - สีเขียว
- **❌ ปิดใช้งาน** - สีแดง
- **⚠️ เต็ม** - สีเหลือง
- **ที่นั่งเหลือน้อย** - สีส้ม

### Cards & Tables
- Card design สวยงาม
- Table responsive
- Hover effects
- Loading animations

## 🚀 วิธีใช้งาน

### 1. เข้าสู่ระบบหลังบ้าน
เปิด `dashboard.html` เพื่อเข้าสู่ระบบหลังบ้าน

### 2. เพิ่มรอบรถ
1. คลิก "จัดการรอบรถ" ในเมนู
2. กรอกข้อมูล: เส้นทาง, เวลา, ที่นั่ง, ราคา
3. เลือกเปิด/ปิดการใช้งาน
4. คลิก "บันทึกรอบรถ"

### 3. แก้ไขรอบรถ
1. คลิก "✏️ แก้ไข" ที่รอบรถที่ต้องการ
2. แก้ไขข้อมูล
3. คลิก "บันทึกการแก้ไข"

### 4. ลบรอบรถ
1. คลิก "🗑️ ลบ" ที่รอบรถที่ต้องการ
2. ยืนยันการลบ

### 5. ดูรายการจอง
1. คลิก "รายการจอง" ในเมนู
2. ใช้ตัวกรองเพื่อค้นหา
3. คลิก "👁️ ดู" เพื่อดูรายละเอียด

## 🔄 ความสัมพันธ์ของข้อมูล

```
trips (รอบรถ)
├── route: "กรุงเทพ → อุดรธานี"
├── time: "08:00"
├── seats: 10              ← ลดลงเมื่อมีการจอง
├── price: 500
├── active: true
└── createdAt: "2025-12-16..."

bookings (การจอง)
├── tripId: "abc123"       ← อ้างอิงไปที่ trips
├── route: "..."           ← Copy มาจาก trip
├── time: "..."
├── customerName: "..."
├── customerPhone: "..."
├── seats: 2               ← จำนวนที่นั่งที่จอง
├── totalPrice: 1000
├── bookingDate: "..."
└── status: "confirmed"
```

## 💡 Tips & Best Practices

### การจัดการรอบรถ
- **ตั้งค่าที่นั่งเหมาะสม** - ควรมีที่นั่งสำรองบ้าง
- **ปิดรอบรถที่เต็ม** - เพื่อไม่ให้ลูกค้าจองผิดพลาด
- **ตรวจสอบราคา** - ให้ถูกต้องก่อนเปิดใช้งาน

### การดูรายการจอง
- **กรองตามวันที่** - เพื่อดูการจองแต่ละวัน
- **ค้นหาด้วยเบอร์** - เมื่อลูกค้าโทรสอบถาม
- **เช็ครายการก่อนเดินรถ** - ยืนยันจำนวนผู้โดยสาร

## 🔒 Security Recommendations

### ปรับ Firebase Security Rules
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // อ่านได้ทุกคน แต่เขียนได้เฉพาะแอดมิน
    match /trips/{tripId} {
      allow read: if true;
      allow write: if request.auth != null; // ต้อง login
    }
    
    // สร้างได้ทุกคน แต่แก้ไข/ลบได้เฉพาะแอดมิน
    match /bookings/{bookingId} {
      allow create: if true;
      allow read, update, delete: if request.auth != null;
    }
  }
}
```

### เพิ่ม Firebase Authentication
1. เปิดใช้งาน Email/Password authentication
2. สร้าง user สำหรับแอดมิน
3. เพิ่ม Login page
4. ตรวจสอบ auth state ก่อนเข้าหลังบ้าน

## 📊 Analytics ที่แนะนำ

- จำนวนการจองต่อวัน
- รอบรถที่ได้รับความนิยม
- เส้นทางที่ขายดี
- รายได้ต่อเดือน
- อัตราการจองเต็ม

## 🎯 Features ที่ควรเพิ่มต่อ

- [ ] ระบบ Login สำหรับแอดมิน
- [ ] Export รายการจองเป็น Excel/PDF
- [ ] กราฟแสดงสถิติ (Charts)
- [ ] ระบบแจ้งเตือนเมื่อที่นั่งเหลือน้อย
- [ ] ระบบยกเลิกการจอง
- [ ] ประวัติการแก้ไขรอบรถ
- [ ] Multi-user support
- [ ] Role-based access control

---

✅ **ระบบหลังบ้านพร้อมใช้งาน 100%**
🎨 **UI/UX สวยงาม ใช้งานง่าย**
📱 **Responsive รองรับทุกอุปกรณ์**
